"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[960],{8960:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var a=s(2791),o=s(9230),n=s(7744);const r="Summary_summary__XCl7s",l="Summary_summary__box__RgNQ8";var i=s(2711),c=s(2182);const m={summary__box:"SummaryBox_summary__box__X1Cem",summary__box__wrapper:"SummaryBox_summary__box__wrapper__-uSZv",summary__box__icon:"SummaryBox_summary__box__icon__CBfmj",summary__box__info__amount:"SummaryBox_summary__box__info__amount__IKXr-"};var d=s(184);const u=e=>{const{t:t}=(0,o.$G)();return(0,d.jsx)("div",{className:m.summary__box,children:(0,d.jsx)(c.Z,{children:(0,d.jsxs)("div",{className:m.summary__box__wrapper,children:[(0,d.jsx)("div",{className:m.summary__box__icon,children:(0,d.jsx)(i.JO,{icon:e.item.icon,width:"56"})}),(0,d.jsxs)("div",{className:m.summary__box__info,children:[(0,d.jsx)("p",{children:t(e.item.text)}),(0,d.jsxs)("div",{className:m.summary__box__info__amount,children:[(0,d.jsx)("h4",{children:e.item.amount}),(0,d.jsx)("sup",{children:t(e.item.currency)})]})]})]})})})};var _=s(6582),h=s(9055),x=s(1358),v=s(6920);const y=function(){const{t:e}=(0,o.$G)(),{user:t}=(0,a.useContext)(v.Z),[s,i]=(0,a.useState)(0),c="admin"===t.role?"".concat("https://sales-0mou.onrender.com","/api/portal/stats"):"".concat("https://sales-0mou.onrender.com","/api/portal/stats?id=").concat(t._id),{data:m,error:y,loading:p}=(0,n.Z)(c),{monthly:j,allTime:b,currentYear:C}=m||{},f={icon:"arcticons:connect",text:0===s?"thisMonthConnects":0===s?"thisYearConnects":"thisTotalConnects",amount:0===s?(null===j||void 0===j?void 0:j.totalConnects)||0:1===s?(null===C||void 0===C?void 0:C.totalConnects)||0:(null===b||void 0===b?void 0:b.totalConnects)||0,currency:""},g={icon:"carbon:sales-ops",text:0===s?"thisMonthRevenue":1===s?"thisYearRevenue":"thisTotalRevenue",amount:0===s?(null===j||void 0===j?void 0:j.totalSales)||0:1===s?(null===C||void 0===C?void 0:C.totalSales)||0:(null===b||void 0===b?void 0:b.totalSales)||0,currency:""},S={icon:"nimbus:money",text:0===s?"thisMonthUsedMoneyOnConnects":1===s?"thisYearUsedMoneyOnConnects":"thisTotalUsedMoneyOnConnects",amount:0===s?(null===j||void 0===j?void 0:j.totalMoneyUsedOnConnects)||0:1===s?(null===C||void 0===C?void 0:C.totalMoneyUsedOnConnects)||0:(null===b||void 0===b?void 0:b.totalMoneyUsedOnConnects)||0,currency:""},k={icon:"icon-park-outline:transaction-order",text:0===s?"thisMonthProposals":1===s?"thisYearProposals":"thisTotalProposals",amount:0===s?(null===j||void 0===j?void 0:j.totalProposals)||0:1===s?(null===C||void 0===C?void 0:C.totalProposals)||0:(null===b||void 0===b?void 0:b.totalProposals)||0,currency:""},N={icon:"tdesign:money",text:0===s?"thisMonthRecievedAmount":1===s?"thisYearRecievedAmount":"thisTotalRecievedAmount",amount:0===s?(null===j||void 0===j?void 0:j.totalReceivedAmount)||0:1===s?(null===C||void 0===C?void 0:C.totalReceivedAmount)||0:(null===b||void 0===b?void 0:b.totalReceivedAmount)||0,currency:""};return(0,d.jsx)(d.Fragment,{children:p?(0,d.jsx)(x.Z,{}):(0,d.jsxs)("section",{className:r,children:[(0,d.jsxs)(_.k,{justifyContent:"space-between",alignItems:"center",children:[(0,d.jsx)("p",{className:"subTitle",children:e("summary")}),(0,d.jsxs)(_.k,{gap:"10px",children:[" ",(0,d.jsx)(h.z,{colorScheme:0===s?"red":"gray",onClick:()=>i(0),children:"Monthly"}),(0,d.jsx)(h.z,{colorScheme:1===s?"red":"gray",onClick:()=>i(1),children:"Yearly"}),(0,d.jsx)(h.z,{colorScheme:2===s?"red":"gray",onClick:()=>i(2),children:"Total"})]})]}),(0,d.jsx)("div",{className:l,children:m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u,{item:k},k.text),(0,d.jsx)(u,{item:f},f.text),(0,d.jsx)(u,{item:g},g.text),(0,d.jsx)(u,{item:S},S.text),(0,d.jsx)(u,{item:N},N.text)]})})]})})};var p=s(1553),j=s(5967),b=s(3623);j.kL.register(j.uw,j.f$,j.od,j.jn,j.u,j.De);const C={responsive:!0,plugins:{legend:{labels:{font:{size:20,color:"#fff"}}}}},f=e=>(0,d.jsx)(b.x1,{data:e.chartData,options:C});j.kL.register(j.uw,j.f$,j.ZL,j.Dx,j.u,j.De);const g=e=>{const{chartTitle:t}=e,s=(0,a.useMemo)((()=>({responsive:!0,plugins:{legend:{position:"center"},title:{display:!0,text:t}}})),[t]);return(0,d.jsx)(b.$Q,{options:s,data:e.chartData})},S="Chart_chart__IPerA",k="Chart_chart__wrapper__w7kA-",N="Chart_charts__container__sVg+X",M="Chart_charts__wrapper__48IXm";var O=s(9005);const w=()=>{const{t:e}=(0,o.$G)(),t=O.Z.revenueByMonths.labels.map((t=>e(t))),[s]=(0,a.useState)({labels:t,datasets:[{label:e("summaryOfSale"),data:O.Z.revenueByMonths.data,borderColor:"#ee384e",backgroundColor:"#3c4b6d"}]}),[n]=(0,a.useState)({labels:t,datasets:[{label:e("summaryOfOrders"),data:t.map((()=>p.We.datatype.number({min:0,max:1e3}))),backgroundColor:"rgba(255, 99, 132, 0.5)"}]}),[r]=(0,a.useState)({labels:t,datasets:[{label:e("summaryOfRevenue"),data:t.map((()=>p.We.datatype.number({min:0,max:1e3}))),backgroundColor:"rgba(255, 99, 132, 0.5)"}]});return(0,d.jsxs)("section",{className:S,children:[(0,d.jsx)("p",{className:"subTitle",children:e("quickAnalysis")}),(0,d.jsxs)("div",{className:N,children:[(0,d.jsxs)("div",{className:M,children:[(0,d.jsx)(c.Z,{children:(0,d.jsx)("div",{className:k,children:(0,d.jsx)(g,{chartData:n,chartTitle:"".concat(e("summaryOfOrders"))})})}),(0,d.jsx)(c.Z,{children:(0,d.jsx)("div",{className:k,children:(0,d.jsx)(g,{chartData:r,chartTitle:"".concat(e("summaryOfRevenue"))})})})]}),(0,d.jsx)(c.Z,{children:(0,d.jsx)("div",{className:k,children:(0,d.jsx)(f,{chartData:s})})})]})]})};const R=function(){const{t:e}=(0,o.$G)();return(0,d.jsxs)("section",{children:[(0,d.jsx)("h2",{className:"title",children:e("dashboard")}),(0,d.jsx)(y,{}),(0,d.jsx)(w,{})]})}}}]);
//# sourceMappingURL=960.e62963b9.chunk.js.map