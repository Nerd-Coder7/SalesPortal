"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[960],{8960:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var o=s(2791),n=s(9230),a=s(7744);const r="Summary_summary__XCl7s",l="Summary_summary__box__RgNQ8";var i=s(2711),c=s(2182);const d={summary__box:"SummaryBox_summary__box__X1Cem",summary__box__wrapper:"SummaryBox_summary__box__wrapper__-uSZv",summary__box__icon:"SummaryBox_summary__box__icon__CBfmj",summary__box__info__amount:"SummaryBox_summary__box__info__amount__IKXr-"};var m=s(184);const u=e=>{const{t:t}=(0,n.$G)();return(0,m.jsx)("div",{className:d.summary__box,children:(0,m.jsx)(c.Z,{children:(0,m.jsxs)("div",{className:d.summary__box__wrapper,children:[(0,m.jsx)("div",{className:d.summary__box__icon,children:(0,m.jsx)(i.JO,{icon:e.item.icon,width:"56"})}),(0,m.jsxs)("div",{className:d.summary__box__info,children:[(0,m.jsx)("p",{children:t(e.item.text)}),(0,m.jsxs)("div",{className:d.summary__box__info__amount,children:[(0,m.jsx)("h4",{children:e.item.amount}),(0,m.jsx)("sup",{children:t(e.item.currency)})]})]})]})})})};var _=s(6582),h=s(9055),x=s(1358),v=s(6920);const y=function(){const{t:e}=(0,n.$G)(),{user:t}=(0,o.useContext)(v.Z),[s,i]=(0,o.useState)(0),c="admin"===t.role?"".concat("https://sales-0mou.onrender.com","/api/portal/stats"):"".concat("https://sales-0mou.onrender.com","/api/portal/stats?id=").concat(t._id),{data:d,error:y,loading:p}=(0,a.Z)(c),{monthly:j,allTime:b,currentYear:C,weekly:k}=d||{},g={icon:"arcticons:connect",text:0===s?"thisMonthConnects":0===s?"thisYearConnects":3===s?"thisWeekConnects":"thisTotalConnects",amount:0===s?(null===j||void 0===j?void 0:j.totalConnects)||0:1===s?(null===C||void 0===C?void 0:C.totalConnects)||0:3===s?(null===k||void 0===k?void 0:k.totalConnects)||0:(null===b||void 0===b?void 0:b.totalConnects)||0,currency:""},f={icon:"carbon:sales-ops",text:0===s?"thisMonthRevenue":1===s?"thisYearRevenue":3===s?"thisWeekRevenue":"thisTotalRevenue",amount:0===s?(null===j||void 0===j?void 0:j.totalSales)||0:1===s?(null===C||void 0===C?void 0:C.totalSales)||0:3===s?(null===k||void 0===k?void 0:k.totalSales)||0:(null===b||void 0===b?void 0:b.totalSales)||0,currency:""},S={icon:"nimbus:money",text:0===s?"thisMonthUsedMoneyOnConnects":1===s?"thisYearUsedMoneyOnConnects":3===s?"thisWeekUsedMoneyOnConnects":"thisTotalUsedMoneyOnConnects",amount:0===s?(null===j||void 0===j?void 0:j.totalMoneyUsedOnConnects)||0:1===s?(null===C||void 0===C?void 0:C.totalMoneyUsedOnConnects)||0:3===s?(null===k||void 0===k?void 0:k.totalMoneyUsedOnConnects)||0:(null===b||void 0===b?void 0:b.totalMoneyUsedOnConnects)||0,currency:""},M={icon:"icon-park-outline:transaction-order",text:0===s?"thisMonthProposals":1===s?"thisYearProposals":3===s?"thisweeklyProposals":"thisTotalProposals",amount:0===s?(null===j||void 0===j?void 0:j.totalProposals)||0:1===s?(null===C||void 0===C?void 0:C.totalProposals)||0:3===s?(null===k||void 0===k?void 0:k.totalProposals)||0:(null===b||void 0===b?void 0:b.totalProposals)||0,currency:""},N={icon:"tdesign:money",text:0===s?"thisMonthRecievedAmount":1===s?"thisYearRecievedAmount":3===s?"thisWeeklyRecievedAmount":"thisTotalRecievedAmount",amount:0===s?(null===j||void 0===j?void 0:j.totalReceivedAmount)||0:1===s?(null===C||void 0===C?void 0:C.totalReceivedAmount)||0:3===s?(null===k||void 0===k?void 0:k.totalReceivedAmount)||0:(null===b||void 0===b?void 0:b.totalReceivedAmount)||0,currency:""};return(0,m.jsx)(m.Fragment,{children:p?(0,m.jsx)(x.Z,{}):(0,m.jsxs)("section",{className:r,children:[(0,m.jsxs)(_.k,{justifyContent:"space-between",alignItems:"center",children:[(0,m.jsx)("p",{className:"subTitle",children:e("summary")}),(0,m.jsxs)(_.k,{gap:"10px",children:[" ",(0,m.jsx)(h.z,{colorScheme:3===s?"red":"gray",onClick:()=>i(3),children:"Weekly"}),(0,m.jsx)(h.z,{colorScheme:0===s?"red":"gray",onClick:()=>i(0),children:"Monthly"}),(0,m.jsx)(h.z,{colorScheme:1===s?"red":"gray",onClick:()=>i(1),children:"Yearly"}),(0,m.jsx)(h.z,{colorScheme:2===s?"red":"gray",onClick:()=>i(2),children:"Total"})]})]}),(0,m.jsx)("div",{className:l,children:d&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u,{item:M},M.text),(0,m.jsx)(u,{item:g},g.text),(0,m.jsx)(u,{item:f},f.text),(0,m.jsx)(u,{item:S},S.text),(0,m.jsx)(u,{item:N},N.text)]})})]})})};var p=s(1553),j=s(5967),b=s(3623);j.kL.register(j.uw,j.f$,j.od,j.jn,j.u,j.De);const C={responsive:!0,plugins:{legend:{labels:{font:{size:20,color:"#fff"}}}}},k=e=>(0,m.jsx)(b.x1,{data:e.chartData,options:C});j.kL.register(j.uw,j.f$,j.ZL,j.Dx,j.u,j.De);const g=e=>{const{chartTitle:t}=e,s=(0,o.useMemo)((()=>({responsive:!0,plugins:{legend:{position:"center"},title:{display:!0,text:t}}})),[t]);return(0,m.jsx)(b.$Q,{options:s,data:e.chartData})},f="Chart_chart__IPerA",S="Chart_chart__wrapper__w7kA-",M="Chart_charts__container__sVg+X",N="Chart_charts__wrapper__48IXm";var O=s(9005);const R=()=>{const{t:e}=(0,n.$G)(),t=O.Z.revenueByMonths.labels.map((t=>e(t))),[s]=(0,o.useState)({labels:t,datasets:[{label:e("summaryOfSale"),data:O.Z.revenueByMonths.data,borderColor:"#ee384e",backgroundColor:"#3c4b6d"}]}),[a]=(0,o.useState)({labels:t,datasets:[{label:e("summaryOfOrders"),data:t.map((()=>p.We.datatype.number({min:0,max:1e3}))),backgroundColor:"rgba(255, 99, 132, 0.5)"}]}),[r]=(0,o.useState)({labels:t,datasets:[{label:e("summaryOfRevenue"),data:t.map((()=>p.We.datatype.number({min:0,max:1e3}))),backgroundColor:"rgba(255, 99, 132, 0.5)"}]});return(0,m.jsxs)("section",{className:f,children:[(0,m.jsx)("p",{className:"subTitle",children:e("quickAnalysis")}),(0,m.jsxs)("div",{className:M,children:[(0,m.jsxs)("div",{className:N,children:[(0,m.jsx)(c.Z,{children:(0,m.jsx)("div",{className:S,children:(0,m.jsx)(g,{chartData:a,chartTitle:"".concat(e("summaryOfOrders"))})})}),(0,m.jsx)(c.Z,{children:(0,m.jsx)("div",{className:S,children:(0,m.jsx)(g,{chartData:r,chartTitle:"".concat(e("summaryOfRevenue"))})})})]}),(0,m.jsx)(c.Z,{children:(0,m.jsx)("div",{className:S,children:(0,m.jsx)(k,{chartData:s})})})]})]})};const w=function(){const{t:e}=(0,n.$G)();return(0,m.jsxs)("section",{children:[(0,m.jsx)("h2",{className:"title",children:e("dashboard")}),(0,m.jsx)(y,{}),(0,m.jsx)(R,{})]})}}}]);
//# sourceMappingURL=960.753a16f2.chunk.js.map